Each module that you develop should expose a run function that takes a variable number of arguments
This enables you to load each module the same way and leaves enough extensibility
so that you can customize the configuration files to pass arguments to the module if you desire

Each trojan that you deploy should have a unique identifier both so that you can sort out the retrieved data
and so that you can control which trojan perform certain tasks